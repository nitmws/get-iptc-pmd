extends layout

mixin tablerows(rowL1)
    tr
        - var singlevalueL1 = rowL1.ptype == "plain";
        td=rowL1.pname
        if singlevalueL1
            td=rowL1.pvalue
        else
            - var rowsL2 = rowL1.pvalue
            td: table(class='pmd1')
                tbody
                    each rowL2 in rowsL2
                        - var singlevalueL2 = rowL2.ptype == "plain";
                        tr
                            td=rowL2.pname
                            if singlevalueL2
                                td=rowL2.pvalue
                            else
                                - var rowsL3 = rowL2.pvalue;
                                td: table(class='pmd1')
                                    tbody
                                        each rowL3 in rowsL3
                                            tr
                                                td=rowL3.pname
                                                td=rowL3.pvalue


block content
    h1 IPTC Photo Metadata
    p ... as retrieved from the image file: <strong>#{imageTitle}</strong>
    p The tables below show the IPTC Field Names in alphabetical order.
    p <a href="/">Back to Request Form</a>

    h2 Fields About Image Content in General
    table(class='pmd1')
        thead
            tr
                th Field Name
                th Field Value
        tbody
            each rowL1a in gimgcontOutObj
                +tablerows(rowL1a)

    h2 Fields About Persons
    table(class='pmd1')
        thead
            tr
                th Field Name
                th Field Value
        tbody
            each rowL1a in personOutObj
                +tablerows(rowL1a)

    h2 Fields About Locations
    table(class='pmd1')
        thead
            tr
                th Field Name
                th Field Value
        tbody
            each rowL1a in locationOutObj
                +tablerows(rowL1a)

    h2 Fields About Other Things in the Image
    table(class='pmd1')
        thead
            tr
                th Field Name
                th Field Value
        tbody
            each rowL1a in othingsOutObj
                +tablerows(rowL1a)


    h2 Fields with Rights Information
    table(class='pmd1')
        thead
            tr
                th Field Name
                th Field Value
        tbody
            each rowL1a in rightsOutObj
                +tablerows(rowL1a)


    h2 Fields About Licensing
    table(class='pmd1')
        thead
            tr
                th Field Name
                th Field Value
        tbody
            each rowL1a in licOutObj
                +tablerows(rowL1a)

    h2 Fields About Administration and Commissioning
    table(class='pmd1')
        thead
            tr
                th Field Name
                th Field Value
        tbody
            each rowL1a in adminOutObj
                +tablerows(rowL1a)

    h2 Any other data
    table(class='pmd1')
        thead
            tr
                th Field Name
                th Field Value
        tbody
            each anyprop in anyOutObjTopic
                tr
                    td=anyprop.pname
                    td=anyprop.pvalue

    p <a href="/">Back to Request Form</a>
